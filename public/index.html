<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower&display=swap" rel="stylesheet">
    <title>My Imageboard</title>
    <header>
        <div><a href="https://github.com/Adirdayan13" target="_blank"><img src="/synth.png" class="logo-header"></a></div>
    </header>
</head>
<body>
    <div id="main">

        <first-component
        v-if="selectedImage"
        post-title="My amazing article"
        :id="selectedImage"
        @close="closeMe"
        @render="refresh"
        ></first-component>
        <!-- <first-component></first-component> -->
        <!-- <p class="fruit" v-for="fruit in fruits" @click="selectedFruit = fruit.id">{{fruit.title}}</p> -->

        <div class="titles">
            <div class="">
                <h1 class="heading">{{heading}}</h1>
            </div>
            <div>
                <h2 style="text-align:center; font-family: 'Indie Flower', cursive;">{{latest}}</h2>
            </div>
        </div>
        <div class="form">
            <form>
                <!-- <div> -->
                    <div>
                        <input v-model='title' type="text" name="title" placeholder="Title">
                        <input v-model='description' type="text" name="description" placeholder="Description">
                        <input v-model='username' type="text" name="username" placeholder="User name">
                    </div>
                    <br>
                    <div>
                        <input @change="handleChange" type="file" name="file" accept="image/*">
                        <br>
                        <button @click="handleClick" class="submit-upload">Submit</button>
                        <br>
                        <p style="color:red; text-decoration:underline; margin-top:5px;">{{toobig}}<p>
                    </div>
                <!-- </div> -->
            </form>
        </div>
        <div class="all-images" v-if="images">
            <div class="image-div" v-for="i in images">
                <a :href="'#' + i.id">
                    <img :src="i.url" class="image">
                </a>
                <p class="image-title">{{i.title}}</p>
            </div>
        </div>
        <!-- <first-component></first-component> -->
        <button id="showmore" @click="showmore">Show more</button>
    </div>

    <script type="text/x-template" id="template">
        <div class="component">
            <!-- <p @click="closeModal" class="x">X</p> -->
            <img src="x.gif" @click="closeModal" class="x">
            <div class="description">
                <p>Title: {{title}}</p>
                <p>Description: {{description}}</p>
            </div>
            <div class="image-clicked">
                <img :src='url' class="picture-clicked">
                <p class="upload-by">Uploaded by: {{username}}</p>
            </div>
            <div class="comments">
                <span>User name:</span>
                <input type="text" v-model="usernameComment" name="usernameComment" placeholder="Your user name">
                <br>
                <span>Comment:</span>
                <input type="text" v-model="comment" class="comment-input" name="comment" placeholder="Your comment">
                <br>
                <button @click="addComment()" class="submit-comment">Submit</button>
                <button class='delete-button' @click="deletePictureAndComments"> Delete image </button>
                <button>Comments</button>

                <br>
            </div>
            <div class="comments-get" v-if="comments">
                <span class="comments-title">Comments</span>
                <p v-for="c in comments" class="username">
                    <span class="username">{{c.username}}:</span>
                    <span class="comment">{{c.comment}}</span>
                    <!-- <span class="created-at">{{c.created_at}}</span> -->
                </p>
                <!-- <p v-for="c in comments">Comment: {{c.comment}}</p> -->
            </div>
        </div>
    </script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
